<div class="category-container">
  <h2>Categories</h2>

  <form [formGroup]="categoryForm" (ngSubmit)="isEditing ? saveEdit() : addCategory()">
    <input formControlName="name" type="text" placeholder="Category name" />

    <select formControlName="type">
      <option value="Expense">Expense</option>
      <option value="Income">Income</option>
      <option value="Neutral">Neutral</option>
    </select>

    <button type="submit" [disabled]="categoryForm.invalid">
      {{ isEditing ? 'Save Changes' : 'Add Category' }}
    </button>

    <button *ngIf="isEditing" type="button" (click)="cancelEdit()">Cancel</button>
  </form>

  <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>

  <ul>
    <li *ngFor="let category of categories">
      <span class="name">{{ category.name }}</span>
      <span class="type">({{ category.type }})</span>
      <ng-container *ngIf="category.name !== 'WITHOUT CATEGORY'">
        <button class="btn" (click)="startEdit(category)">Edit</button>
        <button class="btn delete" (click)="deleteCategory(category.id)">Delete</button>
      </ng-container>
    </li>
  </ul>
</div>


